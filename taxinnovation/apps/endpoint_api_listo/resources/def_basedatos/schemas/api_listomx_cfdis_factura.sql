DROP TABLE IF EXISTS "api_listomx_cfdis_factura" CASCADE;

CREATE TABLE IF NOT EXISTS "api_listomx_cfdis_factura" (
"receiver_rfc" TEXT NULL,
"validation_status_short" JSON NULL,
"payment_state" TEXT NULL,
"modified_on" TIMESTAMP NULL,
"category_description" TEXT NULL,
"issued_at" TEXT NULL,
"paid_on" TIMESTAMP NULL,
"currency" TEXT NULL,
"relationships_from" JSON NULL,
"customer_id" NUMERIC NULL,
"payment_form_display" TEXT NULL,
"folio" TEXT NULL,
"external_id" TEXT NULL,
"total" DECIMAL NULL,
"issuer_name" TEXT NULL,
"issuer_rfc" TEXT NULL,
"canceled_on" TIMESTAMP NULL,
"subtotal" DECIMAL NULL,
"pac_rfc" TEXT NULL,
"payment_terms" TEXT NULL,
"certified_on" TIMESTAMP NULL,
"issuer_regime_display" TEXT NULL,
"total_cents" NUMERIC NULL,
"cfdi_version" DECIMAL NULL,
"payments" JSON NULL,
"adjusted_subtotal" DECIMAL NULL,
"is_payroll" BOOL NULL,
"id" NUMERIC NULL,
"payroll_data" TEXT NULL,
"comments" TEXT NULL,
"extra_data_updated_on_display" TEXT NULL,
"issued_on" TIMESTAMP NULL,
"extra_data" TEXT NULL,
"extra_data_updated_on" TIMESTAMP NULL,
"receiver_name" TEXT NULL,
"series" TEXT NULL,
"uuid" TEXT NULL,
"last_email_status" TEXT NULL,
"receiver_address.country" TEXT NULL,
"discounts_reason" TEXT NULL,
"approved_rejected_on" TIMESTAMP NULL,
"issuer_address" TEXT NULL,
"total_pass_through_taxes_by_type_mxn.IVA" DECIMAL NULL,
"discounts" DECIMAL NULL,
"intended_use" TEXT NULL,
"payment_method" TEXT NULL,
"validation_status.code" TEXT NULL,
"validation_status.message" TEXT NULL,
"is_income" BOOL NULL,
"iva" DECIMAL NULL,
"iva_rate" DECIMAL NULL,
"exchange_rate" DECIMAL NULL,
"lineitems" JSON NULL,
"relationships_to" JSON NULL,
"cfdi_type_original" TEXT NULL,
"cfdi_type" TEXT NULL,
"pdf_file_ids" JSON NULL,
"xml_file_ids" JSON NULL,
"rfc_id" NUMERIC NULL,
"issuer_regime" TEXT NULL,
"payer_name" TEXT NULL,
"payer_rfc" TEXT NULL,
"payer_address" TEXT NULL,
"due_on" TIMESTAMP NULL,
"supplier_paid_on" TIMESTAMP NULL,
"reimbursed_on" TIMESTAMP NULL,
"subtotal_mxn" DECIMAL NULL,
"discounts_mxn" DECIMAL NULL,
"total_mxn" DECIMAL NULL,
"adjusted_subtotal_mxn" DECIMAL NULL,
"category_id" NUMERIC NULL,
"approval_num" TEXT NULL,
"approval_year" TEXT NULL,
"payment_form" TEXT NULL,
"payment_method_display" TEXT NULL,
"intended_use_display" TEXT NULL,
"payment_acct_num" TEXT NULL,
"bank_account" TEXT NULL,
"reimbursable_to" JSON NULL,
"customer_rfc_id" NUMERIC NULL,
"counterparty_name" TEXT NULL,
"counterparty_rfc" TEXT NULL,
"counterparty_type" TEXT NULL,
"counterparty_address" TEXT NULL,
"counterparty_alias" TEXT NULL,
"own_name" TEXT NULL,
"own_rfc" TEXT NULL,
"own_address" TEXT NULL,
"issued_on_display" TEXT NULL,
"comments_for_supplier" TEXT NULL,
"comments_approval_rejection" TEXT NULL,
"approved" TEXT NULL,
"payroll_data_display" TEXT NULL,
"goods_receipts" JSON NULL,
"purchase_orders" JSON NULL,
"generated_invoice_id" TEXT NULL,
"email_status" JSON NULL,
"vehicles" TEXT NULL,
"fuels" TEXT NULL,
"total_paid" DECIMAL NULL,
"total_paid_mxn" DECIMAL NULL,
"total_supplier_paid" DECIMAL NULL,
"total_supplier_paid_mxn" DECIMAL NULL,
"extra_header_fields" JSON NULL,
"original_chain" TEXT NULL,
"cfdi_signature" TEXT NULL,
"sat_signature" TEXT NULL,
"certificate" NUMERIC NULL,
"sat_certificate" NUMERIC NULL,
"log_entries" JSON NULL,
"current_workflow_name" TEXT NULL,
"warnings" JSON NULL,
"source" TEXT NULL,
"cancellation_receipt_id" TEXT NULL,
"original_xml" TEXT NULL,
PRIMARY KEY(id),
FOREIGN KEY(rfc_id) REFERENCES api_listomx_rfc(id)
);